(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(8),a=n.n(c),r=n(9),o=n(26),s=n(2),i=n(3),u=n(0),l=n(17),d=n.n(l),b=n(21),j="SET_USER_NICKNAME_SUCCESS",h="SET_USER_NICKNAME_FAILURE",p="SET_USER_NICKNAME_RESET",f=function(){return function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:p});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=n(1),m=function(e){var t=e.onCLick,n=e.label;return Object(O.jsx)("button",{className:"my-btn",onClick:t,children:n})},v=function(e){var t=e.setNickname;return Object(O.jsx)("input",{onChange:function(e){return t(e.target.value)},type:"text",placeholder:"Enter your nickname here..."})},g=n(45),w=function(e){var t=e.variant,n=e.children,c=e.onClose;return Object(O.jsx)(g.a,{className:"myAlert",variant:t,dismissible:!0,onClose:c,children:n})};w.defaultProps={variant:"info"};var x=w,k={firstpack:{question:"Select all animals",all_words:["hole","sofa","pear","tiger","oatmeal","square","nut","cub","shirt","tub","passenger","cow"],good_words:["tiger","cow"]},secondpack:{question:"Select all colors",all_words:["jeans","existence","ink","red","blue","yellow","laugh","behavior","expansion","white","black","cakes"],good_words:["red","blue","yellow","white","black"]},thirdpack:{question:"Select all vehicles",all_words:["belief","wire","car","bus","star","river","hat","skirt","train"],good_words:["car","bus","train"]}},S=n.p+"static/media/cloud_bad.33193209.png",y=n.p+"static/media/cloud_good.acd64d74.png",E=function(e,t){var n=document.querySelectorAll(".word-container-active");document.querySelectorAll(".word-container").forEach((function(e){e.style.pointerEvents="none"}));var c=[];n.forEach((function(e){return c.push(e.innerText)}));var a=function(e,t){var n={good:[],bad:[]},c={good:0,bad:0};return e.forEach((function(e){k[t].good_words.includes(e)?(n.good.push(e),c.good+=1):(n.bad.push(e),c.bad+=1)})),c.bad+=k[t].good_words.length-n.good.length,c.good*=2,[n,c.good-c.bad]}(c,e),r=Object(i.a)(a,2),o=r[0],s=r[1];n.forEach((function(e){o.good.includes(e.innerText)?(e.classList.remove("word-container-active"),e.classList.add("word-container-good"),e.style.backgroundImage="url(".concat(y,")")):o.bad.includes(e.innerText)&&(e.classList.remove("word-container-active"),e.classList.add("word-container-bad"),e.style.backgroundImage="url(".concat(S,")"))})),t(s)},_=function(e){var t=e.history,n=Object(u.useState)(""),c=Object(i.a)(n,2),a=c[0],o=c[1],s=Object(u.useState)(!1),l=Object(i.a)(s,2),d=l[0],b=l[1],p=Object(r.b)(),g=Object(r.c)((function(e){return e.user})).error;Object(u.useEffect)((function(){d&&!g&&t.push("/game")}),[d,g,t]);return Object(O.jsxs)("div",{className:"page-container",children:[Object(O.jsxs)("div",{className:"homepage-content",children:[Object(O.jsx)("h1",{className:"page-title",children:"Worldcloud Game"}),Object(O.jsx)(v,{setNickname:o}),Object(O.jsx)(m,{onCLick:function(){var e,t;f(),a&&b(!0),p((e=(t=a).charAt(0).toUpperCase()+t.slice(1).toLowerCase(),function(t){e&&e.length>0?t({type:j,payload:e}):t({type:h,payload:"Invalid username"})}))},label:"Submit"})]}),g?Object(O.jsx)(x,{onClose:function(){f(),b(!1)},variant:"danger",children:g}):null]})},C=n.p+"static/media/cloud_blue.68f72406.png",N=n.p+"static/media/cloud.1b17da74.png",L=function(e){var t=e.children,n=e.top,c=e.left,a=Object(u.useState)(!1),r=Object(i.a)(a,2),o=r[0],s=r[1],l=Object(u.useState)("url(".concat(N,")")),d=Object(i.a)(l,2),b=d[0],j=d[1],h=Object(u.useRef)();return Object(u.useEffect)((function(){h.current.classList.contains("word-container-active")?j("url(".concat(C,")")):j("url(".concat(N,")"))}),[o]),Object(O.jsx)("div",{className:o?"word-container word-container-active":"word-container",style:{top:n,left:c,backgroundImage:b},onClick:function(){return s(!o)},ref:h,children:Object(O.jsx)("div",{className:"word",children:t})})},A=function(e){var t=e.history,n=Object(u.useState)(),c=Object(i.a)(n,2),a=c[0],o=c[1],s=Object(u.useState)(),l=Object(i.a)(s,2),d=l[0],b=l[1],j=Object(u.useState)(),h=Object(i.a)(j,2),p=h[0],v=h[1],g=Object(u.useState)(),w=Object(i.a)(g,2),x=w[0],S=w[1],y=Object(u.useState)(!1),_=Object(i.a)(y,2),C=_[0],N=_[1],A=Object(r.c)((function(e){return e.user})).username;return Object(u.useEffect)((function(){if(!C){var e=function(){var e=[];if(window.innerWidth<=600)for(var t=5;t<=90;t+=10)for(var n=5;n<=60;n+=35)e.push([t,n]);else for(var c=3;c<=85;c+=15)for(var a=3;a<=85;a+=15)e.push([c,a]);console.log(e);var r=e.map((function(e){return{sort:Math.random(),value:e}})).sort((function(e,t){return e.sort-t.sort})).map((function(e){return e.value})),o=["firstpack","secondpack","thirdpack"],s=o[Math.floor(Math.random()*o.length)],i=[];return k[s].all_words.map((function(e,t){return i.push({key:e,pos:r[t]})})),[i,k[s].question,s]}(),t=Object(i.a)(e,3),n=t[0],c=t[1],a=t[2];b(n),v(c),S(a),N(!0)}}),[C]),A&&0!==A.length||t.push("/"),Object(O.jsxs)("div",{className:"page-container game-interface-container",style:{height:"100%"},children:[Object(O.jsx)("h1",{children:"Witaj ".concat(A,"!")}),Object(O.jsxs)("h3",{children:["Task: ",p]}),a?Object(O.jsxs)("h3",{className:a>0?"points points-success":"points points-fail",children:["Your score: ",a]}):null,Object(O.jsx)("div",{className:"game-container",children:d&&d.map((function(e,t){return Object(O.jsx)(L,{top:"".concat(e.pos[0],"%"),left:"".concat(e.pos[1],"%"),children:e.key},"word-".concat(t))}))}),Object(O.jsxs)("div",{className:"side-panel",children:[Object(O.jsx)("h2",{children:"Rules"}),Object(O.jsx)("p",{children:"Select all words that are answers to the question above board and hit button 'CHECK ANSWERS'."}),a?Object(O.jsx)("p",{children:"Score = (good answers) * 2 - (wrong answers + correct words that were not marked)."}):null]}),Object(O.jsx)(m,{onCLick:function(){return E(x,o)},label:"Check answers"}),Object(O.jsx)(m,{onCLick:function(){f(),t.push("/")},label:"Menu"})]})};n(37),n(38),n(39);function I(){return Object(O.jsx)(o.a,{children:Object(O.jsxs)(s.c,{children:[Object(O.jsx)(s.a,{path:"/game",component:A}),Object(O.jsx)(s.a,{exact:!0,path:"/",component:_})]})})}var R=n(11),T=n(24),q=n(25),M=n(12),U=Object(R.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{username:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(M.a)(Object(M.a)({},e),{},{username:t.payload,error:""});case h:return Object(M.a)(Object(M.a)({},e),{},{error:t.payload});case p:return{username:"",error:""};default:return e}}}),W=[T.a],K=Object(R.createStore)(U,{user:{username:""}},Object(q.composeWithDevTools)(R.applyMiddleware.apply(void 0,W))),J=document.getElementById("root");a.a.render(Object(O.jsx)(r.a,{store:K,children:Object(O.jsx)(I,{})}),J)}},[[42,1,2]]]);
//# sourceMappingURL=main.54b5ad5e.chunk.js.map