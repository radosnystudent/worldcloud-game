(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var r=a(9),c=a.n(r),o=a(5),n=a(30),s=a(3),i=a(4),l=a(0),u=a(17),d=a.n(u),p=a(22),b="SET_USER_NICKNAME_SUCCESS",g="SET_USER_NICKNAME_FAILURE",j="SET_USER_NICKNAME_RESET",h="CHANGE_LANGUAGE",m=function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:j});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(e){return function(t){t({type:h,payload:e})}},_=a(1),w=function(e){var t=e.onCLick,a=e.label;return Object(_.jsx)("button",{className:"my-btn",onClick:t,children:a})},O={pl:{homepage:{title:"Gra chmura s\u0142\xf3w",placeholder:"Wprowad\u017a swoj\u0105 nazw\u0119 tutaj...",submit_button:"Zatwierd\u017a"},gamepage:{welcome:"Witaj ",title:"Zadanie:",score:"Twoje punkty: ",rules_title:"Zasady",rules_text:'Wybierz wszystkie wyrazy, kt\xf3re spe\u0142niaj\u0105 warunki zadania podanego nad plansz\u0105 i naci\u015bnij przycisk "SPRAWD\u0179 WYNIKI"',rules_score_part1:"Punkty = ",rules_score_part2:"(dobre odpowiedzi)",rules_score_part3:"* 2 - (",rules_score_part4:"z\u0142e odpowiedzi ",rules_score_part5:"+ ",rules_score_part6:"poprawne odpowiedz, kt\xf3re nie zosta\u0142y zaznaczone",rules_score_part7:").",check_button:"SPRAWD\u0179 WYNIKI"}},gb:{homepage:{title:"Worldcloud game",placeholder:"Enter your nickname here...",submit_button:"Submit"},gamepage:{welcome:"Hello ",title:"Task:",score:"Your score: ",rules_title:"Rules",rules_text:'Select all words that are answers to the question above board and hit button "CHECK ANSWERS".',rules_score_part1:"Score = ",rules_score_part2:"(good answers)",rules_score_part3:"* 2 - (",rules_score_part4:"wrong answers ",rules_score_part5:"+ ",rules_score_part6:"correct words that were not marked",rules_score_part7:").",check_button:"CHECK ANSWERS"}}},y=function(e){var t=e.setNickname,a=e.value,r=Object(o.c)((function(e){return e.game})).language;return Object(_.jsx)("input",{onChange:function(e){return t(e.target.value)},type:"text",placeholder:O[r.code].homepage.placeholder,value:a})},v=a(49),k=function(e){var t=e.variant,a=e.children,r=e.onClose;return Object(_.jsx)(v.a,{className:"myAlert",variant:t,dismissible:!0,onClose:r,children:a})};k.defaultProps={variant:"info"};var x=k,z={gb:{firstpack:{question:"Select all animals",all_words:["hole","sofa","pear","tiger","oatmeal","square","nut","cub","shirt","tub","passenger","cow"],good_words:["tiger","cow"]},secondpack:{question:"Select all colors",all_words:["jeans","existence","ink","red","blue","yellow","laugh","behavior","expansion","white","black","cakes"],good_words:["red","blue","yellow","white","black"]},thirdpack:{question:"Select all vehicles",all_words:["belief","wire","car","bus","star","river","hat","skirt","train"],good_words:["car","bus","train"]}},pl:{firstpack:{question:"Wybierz wszystkie zwierz\u0119ta",all_words:["dziura","kanapa","gruszka","tygrys","kiwi","modny","orzech","czub","pilot","tuba","kowal","krowa"],good_words:["krowa","tygrys","kiwi"]},secondpack:{question:"Wybierz wszystkie kolory",all_words:["turkus","trzewia","nieobecny","czerwony","bladoniebieski","pomidorowa","opole","zachowanie","wahanie","przezroczysty","kamienny","sufit","szary"],good_words:["turkus","czerwony","bladoniebieski","szary"]},thirdpack:{question:"Wybierz wszystkie partyku\u0142y",all_words:["bodaj","ale","tu","oraz","obok","nie","niech","tylko","czy"],good_words:["bodaj","tu","czy"]}}},S=a.p+"static/media/cloud_bad.33193209.png",E=a.p+"static/media/cloud_good.acd64d74.png",N=a.p+"static/media/cloud_not_selected.a6e8afd4.png",C=function(e,t,a){var r=document.querySelectorAll(".word-container-active"),c=document.querySelectorAll(".word-container");c.forEach((function(e){e.style.pointerEvents="none"}));var o=[];r.forEach((function(e){return o.push(e.innerText)}));var n=function(e,t,a){var r={good:[],bad:[]},c={good:0,bad:0};return e.forEach((function(e){z[a][t].good_words.includes(e)?(r.good.push(e),c.good+=1):(r.bad.push(e),c.bad+=1)})),c.bad+=z[a][t].good_words.length-r.good.length,c.good*=2,[r,c.good-c.bad,z[a][t].good_words]}(o,e,a),s=Object(i.a)(n,3),l=s[0],u=s[1],d=s[2];r.forEach((function(e){l.good.includes(e.innerText)?(e.classList.remove("word-container-active"),e.classList.add("word-container-good"),e.style.backgroundImage="url(".concat(E,")")):l.bad.includes(e.innerText)&&(e.classList.remove("word-container-active"),e.classList.add("word-container-bad"),e.style.backgroundImage="url(".concat(S,")"))})),c.forEach((function(e){d.includes(e.innerText)&&!l.good.includes(e.innerText)&&(e.style.backgroundImage="url(".concat(N,")"))})),t(u)},A=a(29),W=Object(A.a)(l,{useCssModules:!1}),I=function(e){var t=e.history,a=Object(l.useState)(!1),r=Object(i.a)(a,2),c=r[0],n=r[1],s=Object(o.c)((function(e){return e.game})).language,u=Object(l.useState)(s),d=Object(i.a)(u,2),p=d[0],j=d[1],h=Object(o.b)(),v=Object(o.c)((function(e){return e.user})),k=v.error,z=v.username,S=Object(l.useState)(z),E=Object(i.a)(S,2),N=E[0],C=E[1];Object(l.useEffect)((function(){c&&!k&&t.push("/game")}),[c,k,t]);var A=Object(l.useCallback)((function(){var e;m(),N&&n(!0),h(function(e){return function(t){e&&e.length>0?t({type:b,payload:e}):t({type:g,payload:"Invalid username"})}}((e=N).charAt(0).toUpperCase()+e.slice(1).toLowerCase()))}),[N]);return Object(_.jsxs)("div",{className:"page-container",children:[Object(_.jsx)("div",{className:"flag-wrapper",onClick:function(){return function(){if("gb"===p.code){var e={code:"pl",size:"2x"};j(e),h(f(e))}else{var t={code:"gb",size:"2x"};j(t),h(f(t))}}()},children:Object(_.jsx)(W,{code:p.code,size:p.size,className:"flag-item"})}),Object(_.jsxs)("div",{className:"homepage-content",children:[Object(_.jsx)("h1",{className:"page-title",children:O[s.code].homepage.title}),Object(_.jsx)(y,{value:N,setNickname:C}),Object(_.jsx)(w,{onCLick:A,label:O[s.code].homepage.submit_button})]}),k?Object(_.jsx)(x,{onClose:function(){h(m()),n(!1)},variant:"danger",children:k}):null]})},L=a.p+"static/media/cloud_blue.68f72406.png",R=a.p+"static/media/cloud.1b17da74.png",T=function(e){var t=e.children,a=e.top,r=e.left,c=Object(l.useState)(!1),n=Object(i.a)(c,2),s=n[0],u=n[1],d=Object(l.useState)("url(".concat(R,")")),p=Object(i.a)(d,2),b=p[0],g=p[1],j=Object(l.useRef)(),h=Object(o.c)((function(e){return e.game})).language;return Object(l.useEffect)((function(){j.current.classList.contains("word-container-active")?g("url(".concat(L,")")):g("url(".concat(R,")"))}),[s]),Object(_.jsx)("div",{className:s?"word-container word-container-active":"word-container",style:{top:a,left:r,backgroundImage:b},onClick:function(){return u(!s)},ref:j,children:Object(_.jsx)("div",{className:"word",style:{gb:{fontSize:"22px",transform:"translate(-5%, 110%)"},pl:{fontSize:"16px",transform:"translate(-5%, 160%)"}}[h.code],children:t})})},q=function(e){var t=e.history,a=Object(l.useState)(),r=Object(i.a)(a,2),c=r[0],n=r[1],s=Object(l.useState)(),u=Object(i.a)(s,2),d=u[0],p=u[1],b=Object(l.useState)(),g=Object(i.a)(b,2),j=g[0],h=g[1],f=Object(l.useState)(),y=Object(i.a)(f,2),v=y[0],k=y[1],x=Object(l.useState)(!1),S=Object(i.a)(x,2),E=S[0],N=S[1],A=Object(o.c)((function(e){return e.user})).username,W=Object(o.c)((function(e){return e.game})).language;return Object(l.useEffect)((function(){if(!E){var e=function(e){var t=[];if(window.innerWidth<=600)for(var a=5;a<=90;a+=10)for(var r=5;r<=60;r+=35)t.push([a,r]);else for(var c=3;c<=85;c+=15)for(var o=3;o<=85;o+=15)t.push([c,o]);var n=t.map((function(e){return{sort:Math.random(),value:e}})).sort((function(e,t){return e.sort-t.sort})).map((function(e){return e.value})),s=["firstpack","secondpack","thirdpack"],i=s[Math.floor(Math.random()*s.length)],l=[];return z[e][i].all_words.map((function(e,t){return l.push({key:e,pos:n[t]})})),[l,z[e][i].question,i]}(W.code),t=Object(i.a)(e,3),a=t[0],r=t[1],c=t[2];p(a),h(r),k(c),N(!0)}}),[E]),A&&0!==A.length||t.push("/"),Object(_.jsxs)("div",{className:"page-container game-interface-container",style:{height:"100%"},children:[Object(_.jsx)("h1",{children:"".concat(O[W.code].gamepage.welcome," ").concat(A,"!")}),Object(_.jsxs)("h3",{children:[O[W.code].gamepage.title," ",j]}),c?Object(_.jsx)("h3",{className:c>0?"points points-success":"points points-fail",children:"".concat(O[W.code].gamepage.score," ").concat(c)}):null,Object(_.jsx)("div",{className:"game-container",children:d&&d.map((function(e,t){return Object(_.jsx)(T,{top:"".concat(e.pos[0],"%"),left:"".concat(e.pos[1],"%"),children:e.key},"word-".concat(t))}))}),Object(_.jsxs)("div",{className:"side-panel",children:[Object(_.jsx)("h2",{children:O[W.code].gamepage.rules_title}),Object(_.jsx)("p",{children:O[W.code].gamepage.rules_text}),Object(_.jsx)("div",{className:"separator"}),c?Object(_.jsxs)("p",{children:[O[W.code].gamepage.rules_score_part1," ",Object(_.jsx)("span",{style:{color:"#35ca4e"},children:O[W.code].gamepage.rules_score_part2})," ",O[W.code].gamepage.rules_score_part3,Object(_.jsx)("span",{style:{color:"#bb303f"},children:O[W.code].gamepage.rules_score_part4})," ",O[W.code].gamepage.rules_score_part5," ",Object(_.jsx)("span",{style:{color:"#6c6c6c"},children:O[W.code].gamepage.rules_score_part6}),O[W.code].gamepage.rules_score_part7]}):null]}),Object(_.jsx)(w,{onCLick:function(){return C(v,n,W.code)},label:O[W.code].gamepage.check_button}),Object(_.jsx)(w,{onCLick:function(){m(),t.push("/")},label:"Menu"})]})};a(41),a(42),a(43);function M(){return Object(_.jsx)(n.a,{children:Object(_.jsxs)(s.c,{children:[Object(_.jsx)(s.a,{path:"/game",component:q}),Object(_.jsx)(s.a,{exact:!0,path:"/",component:I})]})})}var K=a(11),U=a(27),G=a(28),H=a(12),P=Object(K.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{username:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(H.a)(Object(H.a)({},e),{},{username:t.payload,error:""});case g:return Object(H.a)(Object(H.a)({},e),{},{error:t.payload});case j:return{username:"",error:""};default:return e}},game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{language:t.payload};default:return e}}}),D=[U.a],Y=Object(K.createStore)(P,{user:{username:""},game:{language:{code:"gb",size:"2x"}}},Object(G.composeWithDevTools)(K.applyMiddleware.apply(void 0,D))),Z=document.getElementById("root");c.a.render(Object(_.jsx)(o.a,{store:Y,children:Object(_.jsx)(M,{})}),Z)}},[[46,1,2]]]);
//# sourceMappingURL=main.f5c1c4d0.chunk.js.map