(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(8),a=n.n(c),r=n(9),o=n(26),s=n(2),i=n(3),u=n(0),l=n(17),d=n.n(l),b=n(21),j="SET_USER_NICKNAME_SUCCESS",p="SET_USER_NICKNAME_FAILURE",h="SET_USER_NICKNAME_RESET",f=function(){return function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:h});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=n(1),m=function(e){var t=e.onCLick,n=e.label;return Object(O.jsx)("button",{className:"my-btn",onClick:t,children:n})},g=function(e){var t=e.setNickname;return Object(O.jsx)("input",{onChange:function(e){return t(e.target.value)},type:"text",placeholder:"Enter your nickname here..."})},v=n(45),w=function(e){var t=e.variant,n=e.children,c=e.onClose;return Object(O.jsx)(v.a,{className:"myAlert",variant:t,dismissible:!0,onClose:c,children:n})};w.defaultProps={variant:"info"};var x=w,k={firstpack:{question:"Select all animals",all_words:["hole","sofa","pear","tiger","oatmeal","square","nut","cub","shirt","tub","passenger","cow"],good_words:["tiger","cow"]},secondpack:{question:"Select all colors",all_words:["jeans","existence","ink","red","blue","yellow","laugh","behavior","expansion","white","black","cakes"],good_words:["red","blue","yellow","white","black"]},thirdpack:{question:"Select all vehicles",all_words:["belief","wire","car","bus","star","river","hat","skirt","train"],good_words:["car","bus","train"]}},y=n.p+"static/media/cloud_bad.33193209.png",S=n.p+"static/media/cloud_good.acd64d74.png",E=function(e,t){var n=document.querySelectorAll(".word-container-active");document.querySelectorAll(".word-container").forEach((function(e){e.style.pointerEvents="none"}));var c=[];n.forEach((function(e){return c.push(e.innerText)}));var a=function(e,t){var n={good:[],bad:[]},c={good:0,bad:0};return e.forEach((function(e){k[t].good_words.includes(e)?(n.good.push(e),c.good+=1):(n.bad.push(e),c.bad+=1)})),c.bad+=k[t].good_words.length-n.good.length,c.good*=2,[n,c.good-c.bad]}(c,e),r=Object(i.a)(a,2),o=r[0],s=r[1];n.forEach((function(e){o.good.includes(e.innerText)?(e.classList.remove("word-container-active"),e.classList.add("word-container-good"),e.style.backgroundImage="url(".concat(S,")")):o.bad.includes(e.innerText)&&(e.classList.remove("word-container-active"),e.classList.add("word-container-bad"),e.style.backgroundImage="url(".concat(y,")"))})),t(s)},_=function(e){var t=e.history,n=Object(u.useState)(""),c=Object(i.a)(n,2),a=c[0],o=c[1],s=Object(u.useState)(!1),l=Object(i.a)(s,2),d=l[0],b=l[1],h=Object(r.b)(),v=Object(r.c)((function(e){return e.user})).error;Object(u.useEffect)((function(){d&&!v&&t.push("/game")}),[d,v,t]);return Object(O.jsxs)("div",{className:"page-container",children:[Object(O.jsxs)("div",{className:"homepage-content",children:[Object(O.jsx)("h1",{className:"page-title",children:"Worldcloud Game"}),Object(O.jsx)(g,{setNickname:o}),Object(O.jsx)(m,{onCLick:function(){var e,t;f(),a&&b(!0),h((e=(t=a).charAt(0).toUpperCase()+t.slice(1).toLowerCase(),function(t){e&&e.length>0?t({type:j,payload:e}):t({type:p,payload:"Invalid username"})}))},label:"Submit"})]}),v?Object(O.jsx)(x,{onClose:function(){f(),b(!1)},variant:"danger",children:v}):null]})},C=n.p+"static/media/cloud_blue.68f72406.png",N=n.p+"static/media/cloud.1b17da74.png",L=function(e){var t=e.children,n=e.top,c=e.left,a=e.right,r=Object(u.useState)(!1),o=Object(i.a)(r,2),s=o[0],l=o[1],d=Object(u.useState)("url(".concat(N,")")),b=Object(i.a)(d,2),j=b[0],p=b[1],h=Object(u.useRef)();return Object(u.useEffect)((function(){h.current.classList.contains("word-container-active")?p("url(".concat(C,")")):p("url(".concat(N,")"))}),[s]),Object(O.jsx)("div",{className:s?"word-container word-container-active":"word-container",style:{top:n,left:c,right:a,backgroundImage:j},onClick:function(){return l(!s)},ref:h,children:Object(O.jsx)("div",{className:"word",children:t})})},I=function(e){var t=e.history,n=Object(u.useState)(),c=Object(i.a)(n,2),a=c[0],o=c[1],s=Object(u.useState)(),l=Object(i.a)(s,2),d=l[0],b=l[1],j=Object(u.useState)(),p=Object(i.a)(j,2),h=p[0],g=p[1],v=Object(u.useState)(),w=Object(i.a)(v,2),x=w[0],y=w[1],S=Object(u.useState)(!1),_=Object(i.a)(S,2),C=_[0],N=_[1],I=Object(r.c)((function(e){return e.user})).username;return Object(u.useEffect)((function(){if(!C){var e=function(){for(var e=[],t=3;t<=85;t+=15)for(var n=3;n<=85;n+=15)e.push([t,n]);var c=e.map((function(e){return{sort:Math.random(),value:e}})).sort((function(e,t){return e.sort-t.sort})).map((function(e){return e.value})),a=["firstpack","secondpack","thirdpack"],r=a[Math.floor(Math.random()*a.length)],o=[];return k[r].all_words.map((function(e,t){return o.push({key:e,pos:c[t]})})),[o,k[r].question,r]}(),t=Object(i.a)(e,3),n=t[0],c=t[1],a=t[2];b(n),g(c),y(a),N(!0)}}),[C]),I&&0!==I.length||t.push("/"),Object(O.jsxs)("div",{className:"page-container",style:{height:"100%"},children:[Object(O.jsx)("h1",{children:"Witaj ".concat(I,"!")}),Object(O.jsx)("h3",{children:h}),a?Object(O.jsxs)("h3",{className:a>0?"points points-success":"points points-fail",children:["Your score: ",a]}):null,Object(O.jsx)("div",{className:"game-container",children:d&&d.map((function(e,t){return Object(O.jsx)(L,{top:"".concat(e.pos[0],"%"),left:"".concat(e.pos[1],"%"),children:e.key},"word-".concat(t))}))}),Object(O.jsx)(m,{onCLick:function(){return E(x,o)},label:"Check answers"}),Object(O.jsx)(m,{onCLick:function(){f(),t.push("/")},label:"Menu"})]})};n(37),n(38),n(39);function A(){return Object(O.jsx)(o.a,{children:Object(O.jsxs)(s.c,{children:[Object(O.jsx)(s.a,{path:"/game",component:I}),Object(O.jsx)(s.a,{exact:!0,path:"/",component:_})]})})}var M=n(11),T=n(24),q=n(25),R=n(12),U=Object(M.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{username:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(R.a)(Object(R.a)({},e),{},{username:t.payload,error:""});case p:return Object(R.a)(Object(R.a)({},e),{},{error:t.payload});case h:return{username:"",error:""};default:return e}}}),K=[T.a],W=Object(M.createStore)(U,{user:{username:""}},Object(q.composeWithDevTools)(M.applyMiddleware.apply(void 0,K))),J=document.getElementById("root");a.a.render(Object(O.jsx)(r.a,{store:W,children:Object(O.jsx)(A,{})}),J)}},[[42,1,2]]]);
//# sourceMappingURL=main.d9cda63a.chunk.js.map